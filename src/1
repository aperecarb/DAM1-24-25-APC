package genericos;

import java.util.ArrayList;
import java.util.Comparator;
import java.util.List;

public class UtilGenerico {

    // 1. Método genérico repetidos
    public static <T> List<T> repetidos(List<T> lista) {
        List<T> copia = new ArrayList<>(lista);
        List<T> unicos = new ArrayList<>();
        List<T> repetidos = new ArrayList<>();

        for (T elemento : lista) {
            if (unicos.contains(elemento)) {
                if (!repetidos.contains(elemento)) {
                    repetidos.add(elemento);
                }
            } else {
                unicos.add(elemento);
            }
        }
        return repetidos;
    }

    // 2. Método genérico filtrarMayores
    public static <T> List<T> filtrarMayores(List<T> lista, T elemento, Comparator<? super T> comparador) {
        List<T> resultado = new ArrayList<>();
        for (T item : lista) {
            if (comparador.compare(item, elemento) >= 0) {
                resultado.add(item);
            }
        }
        return resultado;
    }

    public static void main(String[] args) {
        // Ejemplos de uso

        // Ejemplo para el método repetidos
        List<Integer> numeros = List.of(1, 2, 2, 3, 4, 4, 5);
        List<Integer> repetidosNumeros = UtilGenerico.repetidos(numeros);
        System.out.println("Elementos repetidos en la lista de números: " + repetidosNumeros); // Salida: [2, 4]

        List<String> nombres = List.of("Ana", "Juan", "Pedro", "Ana", "Luis", "Pedro");
        List<String> repetidosNombres = UtilGenerico.repetidos(nombres);
        System.out.println("Elementos repetidos en la lista de nombres: " + repetidosNombres); // Salida: [Ana, Pedro]

        System.out.println("\n--------------------\n");

        // Ejemplo para el método filtrarMayores
        List<Integer> edades = List.of(25, 30, 22, 35, 28);
        Integer edadReferencia = 28;
        List<Integer> mayoresOIgualesEdad = UtilGenerico.filtrarMayores(edades, edadReferencia, Integer::compare);
        System.out.println("Edades mayores o iguales a " + edadReferencia + ": " + mayoresOIgualesEdad); // Salida: [30, 35, 28]

        List<String> palabras = List.of("manzana", "banana", "pera", "uva", "naranja");
        String palabraReferencia = "naranja";
        List<String> mayoresOIgualesPalabras = UtilGenerico.filtrarMayores(palabras, palabraReferencia, String::compareTo);
        System.out.println("Palabras mayores o iguales a '" + palabraReferencia + "': " + mayoresOIgualesPalabras); // Salida: [pera, uva, naranja]
    }
}
