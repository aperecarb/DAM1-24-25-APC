import org.json.JSONObject; import java.io.FileWriter; import java.io.IOException; import java.util.Random; import java.util.Scanner;

class Personaje { private String nombre; private String raza; private int fuerza, agilidad, constitucion, nivel, experiencia, puntosVida;

public Personaje(String nombre, String raza, int fuerza, int agilidad, int constitucion, int nivel, int experiencia, int puntosVida) {
    this.nombre = nombre;
    this.raza = raza;
    this.fuerza = fuerza;
    this.agilidad = agilidad;
    this.constitucion = constitucion;
    this.nivel = nivel;
    this.experiencia = experiencia;
    this.puntosVida = puntosVida;
}

public Personaje(String nombre, String raza) {
    this(nombre, raza, new Random().nextInt(100) + 1, new Random().nextInt(100) + 1,
         new Random().nextInt(100) + 1, 1, 0, 50 + new Random().nextInt(100) + 1);
}

public Personaje(String nombre) {
    this(nombre, "Humano");
}

public JSONObject toJSON() {
    JSONObject json = new JSONObject();
    json.put("nombre", nombre);
    json.put("raza", raza);
    json.put("fuerza", fuerza);
    json.put("agilidad", agilidad);
    json.put("constitucion", constitucion);
    json.put("nivel", nivel);
    json.put("experiencia", experiencia);
    json.put("puntosVida", puntosVida);
    return json;
}

}

public class AppCreaPersonaje { private static final String FILE_PATH = "src/ud5/rol/personajes.json";

public static void main(String[] args) {
    Scanner scanner = new Scanner(System.in);
    System.out.println("Introduce el nombre del personaje:");
    String nombre = scanner.nextLine();
    
    System.out.println("¿Quieres introducir la raza? (s/n)");
    String opcion = scanner.nextLine();
    Personaje personaje;

    if (opcion.equalsIgnoreCase("s")) {
        System.out.println("Introduce la raza:");
        String raza = scanner.nextLine();
        personaje = new Personaje(nombre, raza);
    } else {
        personaje = new Personaje(nombre);
    }

    guardarPersonaje(personaje);
    System.out.println("Personaje guardado con éxito.");
    scanner.close();
}

private static void guardarPersonaje(Personaje personaje) {
    try (FileWriter file = new FileWriter(FILE_PATH, true)) {
        file.write(personaje.toJSON().toString() + "\n");
    } catch (IOException e) {
        System.err.println("Error al guardar el personaje: " + e.getMessage());
    }
}

}

