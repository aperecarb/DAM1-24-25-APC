public class RecorridoRobot {
    public static void main(String[] args) {
        String[] mapa = { 
            "  Z       ", 
            " *        ", 
            "  *  *    ", 
            "          ", 
            " A        " 
        };

        // Pruebas con distintas instrucciones
        System.out.println(recorridoRobot(mapa, "AALARAARAA")); // true
        System.out.println(recorridoRobot(mapa, "RAALAAAALA")); // true
        System.out.println(recorridoRobot(mapa, "ARALA"));      // false
        System.out.println(recorridoRobot(mapa, "LAA"));        // false
    }

    static boolean recorridoRobot(String[] mapa, String instrucciones) {
        int filas = mapa.length;
        int columnas = mapa[0].length();

        // Encontrar la posición inicial (A)
        int x = -1, y = -1;
        for (int i = 0; i < filas; i++) {
            for (int j = 0; j < columnas; j++) {
                if (mapa[i].charAt(j) == 'A') {
                    x = i;
                    y = j;
                    break;
                }
            }
            if (x != -1) break;
        }

        // Si no se encuentra la posición inicial, no es válido
        if (x == -1 || y == -1) return false;

        // Dirección inicial (arriba)
        int[][] direcciones = { {-1, 0}, {0, 1}, {1, 0}, {0, -1} };
        int direccion = 0; // 0 = arriba, 1 = derecha, 2 = abajo, 3 = izquierda

        // Procesar instrucciones
        for (char instr : instrucciones.toCharArray()) {
            if (instr == 'A') {
                // Avanzar en la dirección actual
                int nuevoX = x + direcciones[direccion][0];
                int nuevoY = y + direcciones[direccion][1];

                // Verificar si se sale del mapa
                if (nuevoX < 0 || nuevoX >= filas || nuevoY < 0 || nuevoY >= columnas) return false;

                // Verificar si pisa una mina
                if (mapa[nuevoX].charAt(nuevoY) == '*') return false;

                // Mover el robot
                x = nuevoX;
                y = nuevoY;
            } else if (instr == 'R') {
                // Girar a la derecha
                direccion = (direccion + 1) % 4;
            } else if (instr == 'L') {
                // Girar a la izquierda
                direccion = (direccion + 3) % 4;
            } else {
                // Instrucción inválida
                return false;
            }
        }

        // Verificar si el robot terminó en la casilla de llegada (Z)
        return mapa[x].charAt(y) == 'Z';
    }
}